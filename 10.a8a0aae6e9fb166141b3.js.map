{"version":3,"sources":["webpack://app/./components/for-task/simple-image/index.vue?c78a","webpack://app/./components/for-task/simple-image/index.vue?87a0","webpack://app/components/for-task/simple-image/index.vue","webpack://app/./components/for-task/simple-image/index.vue","webpack://app/./components/for-task/simple-image/index.scss"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","imageSrc","width","height","_v","directives","name","rawName","value","enteredAnswer","expression","type","placeholder","domProps","on","input","$event","target","composing","enterText","_withStripped","for_task_simple_imagevue_type_script_lang_js_","mixins","props","description","String","default","componentInfo","Object","data","alphabet","answer","properties","variants","selectedIndex","[object Object]","imagesInfo","random","Math","floor","files","length","file","rus","map","e","sort","makeAlphabetNavigator","$el","querySelector","focus","methods","key","$parent","$emit","enterWordByCurrrentIndex","gotoPreviousLetter","gotoNextLetter","filteredAlpabet","filter","min","max","trimVariants","split","reduce","acc","index","indexOf","concat","userAnswer","toLowerCase","trim","Array","setResult","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_index_scss_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n"],"mappings":"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","file":"10.a8a0aae6e9fb166141b3.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [\n    _c(\"div\", { staticClass: \"flex-column\" }, [\n      _c(\"img\", {\n        attrs: { src: _vm.imageSrc, width: \"120px\", height: \"120px\" }\n      }),\n      _vm._v(\" \"),\n      _c(\"div\", [\n        _c(\"input\", {\n          directives: [\n            {\n              name: \"model\",\n              rawName: \"v-model\",\n              value: _vm.enteredAnswer,\n              expression: \"enteredAnswer\"\n            }\n          ],\n          attrs: { type: \"text\", placeholder: _vm.placeholder },\n          domProps: { value: _vm.enteredAnswer },\n          on: {\n            input: [\n              function($event) {\n                if ($event.target.composing) {\n                  return\n                }\n                _vm.enteredAnswer = $event.target.value\n              },\n              function($event) {\n                _vm.enterText($event)\n              }\n            ]\n          }\n        })\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <div class=\"flex-column\">\n      <img\n        :src=\"imageSrc\"\n        width=\"120px\"\n        height=\"120px\"\n      >\n      <div>\n        <input\n          v-model=\"enteredAnswer\"\n          type=\"text\"\n          :placeholder=\"placeholder\"\n          @input=\"enterText($event)\"\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport keyboardMixin from '../../mixins/keyboard';\n\nexport default {\n  mixins: [keyboardMixin],\n  props: {\n    description: {\n      type: String,\n      default: () => 'description',\n    },\n    componentInfo: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      alphabet: null,\n      answer: '',\n      enteredAnswer: '',\n      imageSrc: '',\n      properties: null,\n      variants: [],\n      selectedIndex: -1,\n    };\n  },\n  mounted() {\n    const { imagesInfo } = this.componentInfo.data;\n    const random = Math.floor(Math.random() * imagesInfo.files.length);\n    this.imageSrc = imagesInfo.files[random].file;\n    this.answer = imagesInfo.files[random].rus;\n    this.variants = imagesInfo.files.map(e => e.rus[0]).sort();\n    this.makeAlphabetNavigator();\n  },\n  updated(){\n    this.$el.querySelector('input').focus();\n \n  },\n  methods: {\n    keyDown(key) {\n      switch (key) {\n        case 'Enter':\n        case 'Space':\n          this.$parent.$emit('closeme', '');\n          break;\n        case 'ArrowLeft':\n          if (this.selectedIndex !== 0) {\n            this.selectedIndex -= 1;\n            this.enterWordByCurrrentIndex();\n          }\n          break;\n        case 'ArrowRight':\n          if (this.selectedIndex !== this.variants.length - 1) {\n            this.selectedIndex += 1;\n            this.enterWordByCurrrentIndex();\n          }\n          break;\n        case 'ArrowUp':\n          this.gotoPreviousLetter();\n          this.enterWordByCurrrentIndex();\n          break;\n        case 'ArrowDown':\n          this.gotoNextLetter();\n          this.enterWordByCurrrentIndex();\n          break;\n        default:\n          break;\n      }\n    },\n    enterWordByCurrrentIndex() {\n      this.enteredAnswer = this.variants[this.selectedIndex];\n      this.enterText();\n    },\n    gotoNextLetter() {\n      const filteredAlpabet = this.alphabet.filter(e => e > this.selectedIndex);\n      if (filteredAlpabet.length === 0) {\n        this.selectedIndex = this.variants.length - 1;\n      } else {\n        this.selectedIndex = Math.min(...filteredAlpabet);\n      }\n    },\n    gotoPreviousLetter() {\n      const filteredAlpabet = this.alphabet.filter(e => e < this.selectedIndex);\n      if (filteredAlpabet.length === 0) {\n        this.selectedIndex = 0;\n      } else {\n        this.selectedIndex = Math.max(...filteredAlpabet);\n      }\n    },\n    makeAlphabetNavigator() {\n      const alphabet = 'абвгдежзийклмнопрстуфхцчшщъыьэюя';\n      const trimVariants = this.variants.map(e => e[0]);\n      this.alphabet = alphabet.split('').reduce((acc, e) => {\n        const index = trimVariants.indexOf(e);\n        if (index !== -1) {\n          return acc.concat(index);\n        }\n        return acc;\n      }, []);\n    },\n    enterText() {\n      const userAnswer = this.enteredAnswer.toLowerCase().trim();\n      if (this.answer instanceof Array) {\n        this.$parent.setResult(this.answer.indexOf(userAnswer) !== -1);\n      } else {\n        this.$parent.setResult(this.answer === userAnswer);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" src=\"./index.scss\" ></style>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4816cede&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Daniil\\\\Desktop\\\\RS2\\\\daniil-loban-2018Q3\\\\game\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4816cede', component.options)\n    } else {\n      api.reload('4816cede', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=4816cede&\", function () {\n      api.rerender('4816cede', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"components/for-task/simple-image/index.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js!./index.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js!./index.scss?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}