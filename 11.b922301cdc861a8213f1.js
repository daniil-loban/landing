(window.webpackJsonpapp=window.webpackJsonpapp||[]).push([[11],{47:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("figure",[r("audio",{attrs:{controls:"",src:e.fileSrc}},[e._v("\n    Your browser does not support the\n    "),r("code",[e._v("audio")]),e._v(" element.\n  ")]),e._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.enteredAnswer,expression:"enteredAnswer"}],attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.enteredAnswer},on:{input:[function(t){t.target.composing||(e.enteredAnswer=t.target.value)},function(t){e.enterText(t)}]}})])])};s._withStripped=!0;var n={mixins:[r(1).a],props:{description:{type:String,default:()=>"description"},componentInfo:{type:Object,default:()=>{}}},data:()=>({alphabet:null,enteredAnswer:"",answer:"",fileSrc:"",placeholder:"",variants:[],selectedIndex:-1}),mounted(){const{data:e}=this.componentInfo,t=Math.floor(Math.random()*e.words.length);var r,s;this.fileSrc=`${e.path}${e.prefix}${r=t,s=e.zeros,(Array(s).join("0")+r).slice(-s)}${e.ext}`,this.answer=e.words[t].split(e.separator)[0].toLowerCase();const n=this.$parent.getDescription();this.$parent.setDescription(n),this.variants=e.words.map(t=>t.split(e.separator)[0]).sort(),this.makeAlphabetNavigator()},updated(){this.$el.querySelector("input").focus()},methods:{keyDown(e){switch(e){case"Enter":this.$parent.$emit("closeme","");break;case"Space":this.$el.querySelector("audio").play();break;case"ArrowLeft":0!==this.selectedIndex&&(this.selectedIndex-=1,this.enterWordByCurrrentIndex());break;case"ArrowRight":this.selectedIndex!==this.variants.length-1&&(this.selectedIndex+=1,this.enterWordByCurrrentIndex());break;case"ArrowUp":this.gotoPreviousLetter(),this.enterWordByCurrrentIndex();break;case"ArrowDown":this.gotoNextLetter(),this.enterWordByCurrrentIndex()}},enterWordByCurrrentIndex(){this.enteredAnswer=this.variants[this.selectedIndex],this.enterText()},gotoNextLetter(){const e=this.alphabet.filter(e=>e>this.selectedIndex);0===e.length?this.selectedIndex=this.variants.length-1:this.selectedIndex=Math.min(...e)},gotoPreviousLetter(){const e=this.alphabet.filter(e=>e<this.selectedIndex);0===e.length?this.selectedIndex=0:this.selectedIndex=Math.max(...e)},makeAlphabetNavigator(){const e=this.variants.map(e=>e[0]);this.alphabet="abcdefghiklmnopqrstvxyz".split("").reduce((t,r)=>{const s=e.indexOf(r);return-1!==s?t.concat(s):t},[])},enterText(){this.answer instanceof Array?this.$parent.setResult(-1!==this.answer.indexOf(this.enteredAnswer.toLowerCase())):this.$parent.setResult(this.answer===this.enteredAnswer.toLowerCase())}}},a=r(0),i=Object(a.a)(n,s,[],!1,null,null,null);i.options.__file="components/for-task/player/index.vue";t.default=i.exports}}]);
//# sourceMappingURL=11.b922301cdc861a8213f1.js.map