{"version":3,"sources":["webpack://app/./components/for-task/player/index.vue?b850","webpack://app/./components/for-task/player/index.vue?076b","webpack://app/components/for-task/player/index.vue","webpack://app/./components/for-task/player/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","controls","src","fileSrc","_v","directives","name","rawName","value","enteredAnswer","expression","type","placeholder","domProps","on","input","$event","target","composing","enterText","_withStripped","for_task_playervue_type_script_lang_js_","mixins","props","description","String","default","componentInfo","Object","data","alphabet","answer","variants","selectedIndex","[object Object]","random","Math","floor","words","length","num","len","path","prefix","zeros","Array","join","slice","ext","split","separator","toLowerCase","$parent","getDescription","setDescription","map","e","sort","makeAlphabetNavigator","methods","key","$emit","$el","querySelector","play","enterWordByCurrrentIndex","gotoPreviousLetter","gotoNextLetter","filteredAlpabet","filter","min","max","trimVariants","reduce","acc","index","indexOf","concat","setResult","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"uGAAA,IAAAA,EAAA,WACA,IAAAC,EAAAC,KACAC,EAAAF,EAAAG,eACAC,EAAAJ,EAAAK,MAAAD,IAAAF,EACA,OAAAE,EAAA,UACAA,EAAA,SAAiBE,MAAA,CAASC,SAAA,GAAAC,IAAAR,EAAAS,UAAmC,CAC7DT,EAAAU,GAAA,iDACAN,EAAA,QAAAJ,EAAAU,GAAA,WACAV,EAAAU,GAAA,mBAEAV,EAAAU,GAAA,KACAN,EAAA,OACAA,EAAA,SACAO,WAAA,CACA,CACAC,KAAA,QACAC,QAAA,UACAC,MAAAd,EAAAe,cACAC,WAAA,kBAGAV,MAAA,CAAgBW,KAAA,OAAAC,YAAAlB,EAAAkB,aAChBC,SAAA,CAAmBL,MAAAd,EAAAe,eACnBK,GAAA,CACAC,MAAA,CACA,SAAAC,GACAA,EAAAC,OAAAC,YAGAxB,EAAAe,cAAAO,EAAAC,OAAAT,QAEA,SAAAQ,GACAtB,EAAAyB,UAAAH,aASAvB,EAAA2B,eAAA,MCzC8IC,ECuB/H,CACfC,OAAA,MAAW,GACXC,MAAA,CACAC,YAAA,CACAb,KAAAc,OACAC,QAAA,mBAEAC,cAAA,CACAhB,KAAAiB,OACAF,QAAA,SAGAG,KAAA,KACA,CACAC,SAAA,KACArB,cAAA,GACAsB,OAAA,GACA5B,QAAA,GACAS,YAAA,GACAoB,SAAA,GACAC,eAAA,IAGAC,UAEA,MACAL,QAAAlC,KAAAgC,cACAQ,EAAAC,KAAAC,MAAAD,KAAAD,SAAAN,EAAAS,MAAAC,QAHA,IAAAC,EAAAC,EAIA9C,KAAAQ,WAAA0B,EAAAa,OAAAb,EAAAc,SAJAH,EAIAL,EAJAM,EAIAZ,EAAAe,OAJAC,MAAAJ,GAAAK,KAAA,KAAAN,GAAAO,OAAAN,KAIAZ,EAAAmB,MACArD,KAAAoC,OAAAF,EAAAS,MAAAH,GAAAc,MAAApB,EAAAqB,WAJA,GAIAC,cACA,MAAA3B,EAAA7B,KAAAyD,QAAAC,iBACA1D,KAAAyD,QAAAE,eAAA9B,GAEA7B,KAAAqC,SAAAH,EAAAS,MAAAiB,IAAAC,KAAAP,MAAApB,EAAAqB,WARA,IAQAO,OACA9D,KAAA+D,yBAEAC,QAAA,CACAzB,QAAA0B,GACA,OAAAA,GACA,YACAjE,KAAAyD,QAAAS,MAAA,cACA,MACA,YACAlE,KAAAmE,IAAAC,cAAA,SAAAC,OACA,MACA,gBACA,IAAArE,KAAAsC,gBACAtC,KAAAsC,eAAA,EACAtC,KAAAsE,4BAEA,MACA,iBACAtE,KAAAsC,gBAAAtC,KAAAqC,SAAAO,OAAA,IACA5C,KAAAsC,eAAA,EACAtC,KAAAsE,4BAEA,MACA,cACAtE,KAAAuE,qBACAvE,KAAAsE,2BACA,MACA,gBACAtE,KAAAwE,iBACAxE,KAAAsE,6BAMA/B,2BACAvC,KAAAc,cAAAd,KAAAqC,SAAArC,KAAAsC,eACAtC,KAAAwB,aAEAe,iBACA,MAAAkC,EAAAzE,KAAAmC,SAAAuC,OAAAb,KAAA7D,KAAAsC,eACA,IAAAmC,EAAA7B,OACA5C,KAAAsC,cAAAtC,KAAAqC,SAAAO,OAAA,EAEA5C,KAAAsC,cAAAG,KAAAkC,OAAAF,IAGAlC,qBACA,MAAAkC,EAAAzE,KAAAmC,SAAAuC,OAAAb,KAAA7D,KAAAsC,eACA,IAAAmC,EAAA7B,OACA5C,KAAAsC,cAAA,EAEAtC,KAAAsC,cAAAG,KAAAmC,OAAAH,IAGAlC,wBACA,MACAsC,EAAA7E,KAAAqC,SAAAuB,IAAAC,KAAA,IACA7D,KAAAmC,SAFA,0BAEAmB,MAAA,IAAAwB,OAAA,CAAAC,EAAAlB,KACA,MAAAmB,EAAAH,EAAAI,QAAApB,GACA,WAAAmB,EACAD,EAAAG,OAAAF,GAEAD,GACA,KAEAxC,YACAvC,KAAAoC,kBAAAc,MACAlD,KAAAyD,QAAA0B,WAAA,IAAAnF,KAAAoC,OAAA6C,QAAAjF,KAAAc,cAAA0C,gBAEAxD,KAAAyD,QAAA0B,UAAAnF,KAAAoC,SAAApC,KAAAc,cAAA0C,yBCxHA4B,EAAgBnD,OAAAoD,EAAA,EAAApD,CACdP,EACA5B,EH+BF,IG7BA,EACA,KACA,KACA,MAuBAsF,EAAAE,QAAAC,OAAA,uCACeC,EAAA,QAAAJ","file":"11.3af96b0477f4d391617a.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"figure\", [\n    _c(\"audio\", { attrs: { controls: \"\", src: _vm.fileSrc } }, [\n      _vm._v(\"\\n    Your browser does not support the\\n    \"),\n      _c(\"code\", [_vm._v(\"audio\")]),\n      _vm._v(\" element.\\n  \")\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", [\n      _c(\"input\", {\n        directives: [\n          {\n            name: \"model\",\n            rawName: \"v-model\",\n            value: _vm.enteredAnswer,\n            expression: \"enteredAnswer\"\n          }\n        ],\n        attrs: { type: \"text\", placeholder: _vm.placeholder },\n        domProps: { value: _vm.enteredAnswer },\n        on: {\n          input: [\n            function($event) {\n              if ($event.target.composing) {\n                return\n              }\n              _vm.enteredAnswer = $event.target.value\n            },\n            function($event) {\n              _vm.enterText($event)\n            }\n          ]\n        }\n      })\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <figure>\n    <audio\n      controls\n      :src=\"fileSrc\"\n    >\n      Your browser does not support the\n      <code>audio</code> element.\n    </audio>\n    <div>\n      <input\n        v-model=\"enteredAnswer\"\n        type=\"text\"\n        :placeholder=\"placeholder\"\n        @input=\"enterText($event)\"\n      >\n    </div>\n  </figure>\n</template>\n\n<script>\nimport keyboardMixin from '../../mixins/keyboard';\n\nexport default {\n  mixins: [keyboardMixin],\n  props: {\n    description: {\n      type: String,\n      default: () => 'description',\n    },\n    componentInfo: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      alphabet: null,\n      enteredAnswer: '',\n      answer: '',\n      fileSrc: '',\n      placeholder: '',\n      variants: [],\n      selectedIndex: -1,\n    };\n  },\n  mounted() {\n    function zfill(num, len) { return (Array(len).join('0') + num).slice(-len); }\n    const ENGLISH = 0;\n    const { data } = this.componentInfo;\n    const random = Math.floor(Math.random() * data.words.length);\n    this.fileSrc = `${data.path}${data.prefix}${zfill(random, data.zeros)}${data.ext}`;\n    this.answer = data.words[random].split(data.separator)[ENGLISH].toLowerCase();\n    const description = this.$parent.getDescription();\n    this.$parent.setDescription(description);\n\n    this.variants = data.words.map(e => e.split(data.separator)[ENGLISH]).sort();\n    this.makeAlphabetNavigator();\n  },\n  methods: {\n    keyDown(key) {\n      switch (key) {\n        case 'Enter':\n          this.$parent.$emit('closeme', '');\n          break;\n        case 'Space':\n          this.$el.querySelector('audio').play();\n          break;\n        case 'ArrowLeft':\n          if (this.selectedIndex !== 0) {\n            this.selectedIndex -= 1;\n            this.enterWordByCurrrentIndex();\n          }\n          break;\n        case 'ArrowRight':\n          if (this.selectedIndex !== this.variants.length - 1) {\n            this.selectedIndex += 1;\n            this.enterWordByCurrrentIndex();\n          }\n          break;\n        case 'ArrowUp':\n          this.gotoPreviousLetter();\n          this.enterWordByCurrrentIndex();\n          break;\n        case 'ArrowDown':\n          this.gotoNextLetter();\n          this.enterWordByCurrrentIndex();\n          break;\n        default:\n          break;\n      }\n    },\n    enterWordByCurrrentIndex() {\n      this.enteredAnswer = this.variants[this.selectedIndex];\n      this.enterText();\n    },\n    gotoNextLetter() {\n      const filteredAlpabet = this.alphabet.filter(e => e > this.selectedIndex);\n      if (filteredAlpabet.length === 0) {\n        this.selectedIndex = this.variants.length - 1;\n      } else {\n        this.selectedIndex = Math.min(...filteredAlpabet);\n      }\n    },\n    gotoPreviousLetter() {\n      const filteredAlpabet = this.alphabet.filter(e => e < this.selectedIndex);\n      if (filteredAlpabet.length === 0) {\n        this.selectedIndex = 0;\n      } else {\n        this.selectedIndex = Math.max(...filteredAlpabet);\n      }\n    },\n    makeAlphabetNavigator() {\n      const alphabet = 'abcdefghiklmnopqrstvxyz';\n      const trimVariants = this.variants.map(e => e[0]);\n      this.alphabet = alphabet.split('').reduce((acc, e) => {\n        const index = trimVariants.indexOf(e);\n        if (index !== -1) {\n          return acc.concat(index);\n        }\n        return acc;\n      }, []);\n    },\n    enterText() {\n      if (this.answer instanceof Array) {\n        this.$parent.setResult(this.answer.indexOf(this.enteredAnswer.toLowerCase()) !== -1);\n      } else {\n        this.$parent.setResult(this.answer === this.enteredAnswer.toLowerCase());\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b4219d82&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Daniil\\\\Desktop\\\\RS2\\\\daniil-loban-2018Q3\\\\game\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('b4219d82', component.options)\n    } else {\n      api.reload('b4219d82', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=b4219d82&\", function () {\n      api.rerender('b4219d82', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"components/for-task/player/index.vue\"\nexport default component.exports"],"sourceRoot":""}