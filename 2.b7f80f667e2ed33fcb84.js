(window.webpackJsonpapp=window.webpackJsonpapp||[]).push([[2],{32:function(e,t,s){var n=s(36);e.exports=function(e,t){var s=-1,r=e.length,a=r-1;for(t=void 0===t?r:t;++s<t;){var i=n(s,a),c=e[i];e[i]=e[s],e[s]=c}return e.length=t,e}},33:function(e,t,s){var n=s(34),r=s(37),a=s(43);e.exports=function(e){return(a(e)?n:r)(e)}},34:function(e,t,s){var n=s(35),r=s(32);e.exports=function(e){return r(n(e))}},35:function(e,t){e.exports=function(e,t){var s=-1,n=e.length;for(t||(t=Array(n));++s<n;)t[s]=e[s];return t}},36:function(e,t){var s=Math.floor,n=Math.random;e.exports=function(e,t){return e+s(n()*(t-e+1))}},37:function(e,t,s){var n=s(32),r=s(38);e.exports=function(e){return n(r(e))}},38:function(e,t,s){var n=s(39),r=s(41);e.exports=function(e){return null==e?[]:n(e,r(e))}},39:function(e,t,s){var n=s(40);e.exports=function(e,t){return n(t,function(t){return e[t]})}},40:function(e,t){e.exports=function(e,t){for(var s=-1,n=null==e?0:e.length,r=Array(n);++s<n;)r[s]=t(e[s],s,e);return r}},41:function(e,t,s){var n=s(42)(Object.keys,Object);e.exports=n},42:function(e,t){e.exports=function(e,t){return function(s){return e(t(s))}}},43:function(e,t){var s=Array.isArray;e.exports=s},49:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{attrs:{id:"grid"}},[s("table",{attrs:{id:"table-of-counties"}},[e._m(0),e._v(" "),s("tbody",e._l(e.countries,function(t){return s("tr",{key:t},[s("td",[e._v(e._s(t))]),s("td",{staticClass:"border drop-area",attrs:{"data-maxchildren":"1"}})])}),0)]),e._v(" "),s("div",{staticClass:"border drop-area words-bank",attrs:{id:"words"}},e._l(e.capitals,function(t,n){return s("span",{key:t,staticClass:"drag-element",attrs:{id:"capital"+n}},[e._v("\n        "+e._s(t)+"\n      ")])}),0)])])};n._withStripped=!0;var r=s(1),a=s(57);const i=s(33);var c={mixins:[r.a],props:{description:{type:String,default:()=>"description"},componentInfo:{type:Object,default:()=>{}}},data:()=>({answer:[],countries:[],capitals:[],selectedArea:null,oppositeArea:null,selectedWordIndex:-1,selectedPlaceIndex:-1}),mounted(){const{data:e}=this.componentInfo;this.makeParts(e)},updated(){a.a.addDragDropListener(this.callback)},methods:{keyDown(e){switch(null===this.selectedArea&&(this.selectedArea=this.$el.querySelector("#words")),e){case"Enter":this.$parent.$emit("closeme","");break;case"Space":this.moveWord();break;case"ArrowLeft":0!==this.selectedWordIndex&&-1!==this.selectedWordIndex||(this.selectedWordIndex=this.selectedArea.children.length),this.selectedWordIndex-=1;break;case"ArrowRight":this.selectedWordIndex===this.selectedArea.children.length-1&&(this.selectedWordIndex=-1),this.selectedWordIndex+=1;break;case"ArrowUp":0!==this.selectedPlaceIndex&&-1!==this.selectedPlaceIndex||(this.selectedPlaceIndex=5),this.selectedPlaceIndex-=1;break;case"ArrowDown":4===this.selectedPlaceIndex&&(this.selectedPlaceIndex=-1),this.selectedPlaceIndex+=1}this.hightLightSelected()},moveWord(){if(-1===this.selectedPlaceIndex)return;const e=this.$el.querySelector("tbody");if(this.oppositeArea=e.children[this.selectedPlaceIndex].lastChild,this.oppositeArea&&1===this.oppositeArea.children.length){const e=this.oppositeArea.children[0];this.selectedArea.appendChild(e)}-1!==this.selectedWordIndex&&this.selectedWordIndex<this.selectedArea.children.length&&this.oppositeArea.appendChild(this.selectedArea.children[this.selectedWordIndex]),this.selectedWordIndex=-1,this.selectedPlaceIndex=-1},hightLightSelected(){const e=this.$el.querySelector(".selected");null!==e&&e.classList.remove("selected"),-1!==this.selectedWordIndex&&this.selectedWordIndex<this.selectedArea.children.length&&this.selectedArea.children[this.selectedWordIndex].classList.add("selected");const t=this.$el.querySelector(".selected-place");if(null!==t&&t.classList.remove("selected-place"),-1!==this.selectedPlaceIndex&&this.selectedPlaceIndex<5){const e=this.$el.querySelector("tbody");e.children[this.selectedPlaceIndex].classList.add("selected-place"),this.oppositeArea=e.children[this.selectedPlaceIndex].lastChild}},hideSelections(){this.selectedWordIndex=-1,this.selectedPlaceIndex=-1,this.hightLightSelected()},callback(){const e=this.$el.querySelector("tbody").textContent.replace(/\s\s+/g," ").trim();this.$parent.setResult(e===this.answer.join(" ")),this.hideSelections()},makeParts(e){const t=Array.apply(Array,new Array(5)).map(()=>Math.floor(Math.random()*e.countries.length));for(let s=0;s<5;s+=1){const{country:n}=e.countries[t[s]],{capital:r}=e.countries[t[s]];this.countries.push(n),this.capitals.push(r),this.answer.push(n,r)}this.capitals=i(this.capitals)}}},d=(s(78),s(0)),l=Object(d.a)(c,n,[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("th",[this._v("Cрана")]),this._v(" "),t("th",[this._v("Столица")])])}],!1,null,null,null);l.options.__file="components/for-task/words-pairs/index.vue";t.default=l.exports},57:function(e,t,s){"use strict";const n="drop-area-highlight";let r,a,i=null,c=null;function d(e){const t=e;if(!t.target.classList.contains("drag-element"))return!1;const s=t.targetTouches[0];t.target.classList.add("dragged-now");const a=window.getComputedStyle(t.target),c=parseInt(a.width,10),d=parseInt(a.height,10);return t.target.style.left=`${s.pageX-c/2}px`,t.target.style.top=`${s.pageY-2*d}px`,function(e,t){for(let s=0;s<r.length;s+=1){const a=r[s],c=a.getBoundingClientRect();if(e>c.left&&e<c.right&&t>c.top&&t<c.bottom)return null!==i&&i.classList.remove(n),(i=a).classList.add(n),a}}(s.pageX,s.pageY),!0}function l(e){const t=i;e.target.classList.remove("dragged-now"),t&&!t.classList.contains("drag-element")&&t!==e.target.parentNode&&(+t.dataset.maxchildren>t.children.length||void 0===t.dataset.maxchildren)&&(t.appendChild(e.target),i=null,null!==c&&c(e),t.classList.remove(n))}function o(e){e.preventDefault();const t=e.dataTransfer.getData("text");!e.target.classList.contains("drag-element")&&e.target!==document.getElementById(t).parentNode&&(+e.target.dataset.maxchildren>e.target.children.length||void 0===e.target.dataset.maxchildren)&&(e.target.appendChild(document.getElementById(t)),i=null,null!==c&&c(e),e.target.classList.remove(n))}function h(e){e.currentTarget.classList.remove(n)}function u(e){e.preventDefault(),e.currentTarget.classList.add(n)}function p(e){const t=e.target.classList;!t.contains("drag-element")&&t.contains("drag-area")||e.dataTransfer.setData("text",e.target.id)}t.a={addDragDropListener:function(e){c=e,r=document.querySelectorAll(".drop-area"),(a=document.querySelectorAll(".drag-element")).forEach(e=>{e.addEventListener("dragstart",p,!1),e.setAttribute("draggable","true")}),r.forEach(e=>{e.addEventListener("touchmove",d,{passive:!0}),e.addEventListener("touchend",l,!1),e.addEventListener("drop",o,!1),e.addEventListener("dragover",u,!1),e.addEventListener("dragleave",h,!1)})}}},60:function(e,t,s){},78:function(e,t,s){"use strict";var n=s(60);s.n(n).a}}]);
//# sourceMappingURL=2.b7f80f667e2ed33fcb84.js.map